<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>감정일기</title>
    <link rel="stylesheet" href="./mindjournal.css" />
    <link rel="stylesheet" as="style" crossorigin href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard@v1.3.9/dist/web/static/pretendard.min.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css" integrity="sha512-SnH5WK+bZxgPHs44uWIX+LLJAJ9/2PkPKZ5QiAj6Ta86w+fsb2TkcmfRyVX3pBnMFcV7oQPJkl9QevSCWr3W6A==" crossorigin="anonymous" referrerpolicy="no-referrer" />
</head>
<body>
    <header class="site-header">
        <div class="site-header-container">
            <h1 class="site-title">민지의 다이어리</h1>
            <button id="themeToggleBtn" class="theme-toggle-btn" aria-label="테마 변경">
                <i class="fas fa-moon"></i>
            </button>
        </div>
    </header>

    <main class="main-container">
        <section class="banner">
            <picture>
                <source media="(max-width: 600px)" srcset="./banner-img2.jpg">
                <img src="./Rectangle 1.png" alt="감정 일기 배너 이미지">
            </picture>
        </section>

        <nav class="navigation">
            <button class="tab active" data-tab="diary">일기보관함</button>
            <button class="tab" data-tab="photos">사진보관함</button>
        </nav>

        <div class="filter-search-container">
            <div class="mobile-search-bar">
                <input type="text" id="searchInput" placeholder="검색어를 입력해 주세요." autocomplete="off" aria-label="제목 검색" />
            </div>

            <div class="controls-wrapper">
                <div class="controls-left">
                    <div class="filter-dropdown-bar">
                        <label for="filterDropdown" class="visually-hidden">감정 필터</label>
                        <div class="dropdown custom">
                            <select id="filterDropdown" class="filter-dropdown" aria-label="감정 필터">
                                <option value="all">전체</option>
                                <option value="happy">행복해요</option>
                                <option value="sad">슬퍼요</option>
                                <option value="surprised">놀랐어요</option>
                                <option value="angry">화나요</option>
                                <option value="etc">기타</option>
                            </select>
                            <span class="dropdown__icon" aria-hidden="true">▼</span>
                        </div>
                    </div>
                    <div class="desktop-search-bar">
                        <input type="text" id="searchInputDesktop" placeholder="검색어를 입력해 주세요." autocomplete="off" aria-label="제목 검색" />
                    </div>
                </div>
                <button id="openWriteModal" class="add-diary-btn" aria-label="새 일기 쓰기">
                    <span class="icon">+</span>
                    <span class="text">일기쓰기</span>
                </button>
            </div>
        </div>
        
        <div class="photo-filters" style="display:none;">
            <button class="ratio-btn active" data-ratio="square">정사각</button>
            <button class="ratio-btn" data-ratio="landscape">가로형</button>
            <button class="ratio-btn" data-ratio="portrait">세로형</button>
            <button class="ratio-btn" data-ratio="all">전체</button>
        </div>

        <section class="diary-section">
            <div class="card-container" id="cardContainer"></div>
        </section>
    </main>
    
    <div id="pagination" class="pagination-container"></div>
    <button id="scrollTopBtn" class="floating-btn" title="맨 위로">▲</button>

    <footer class="site-footer">
        <div class="footer-content">
            <p><strong>민지의 다이어리</strong></p>
            <p>대표 : {name}</p>
            <p>Copyright © 2024.{name} Co., Ltd.</p>
        </div>
    </footer>

    <div id="writeModal" class="modal">
        <div class="modal__backdrop"></div>
        <div class="modal__panel small">
            <header class="modal__header">
                <h3>새 일기 쓰기</h3>
                <button class="icon-btn" id="closeWriteModal">×</button>
            </header>
            <div class="modal__body">
                <form id="diaryForm">
                    <label class="label">오늘 기분은 어땠나요?</label>
                    <ul class="emotion-selection">
                        <li>
                            <input type="radio" name="emotion" value="happy" id="emotion-happy" required />
                            <label for="emotion-happy">행복해요</label>
                        </li>
                        <li>
                            <input type="radio" name="emotion" value="sad" id="emotion-sad" required />
                            <label for="emotion-sad">슬퍼요</label>
                        </li>
                        <li>
                            <input type="radio" name="emotion" value="surprised" id="emotion-surprised" required />
                            <label for="emotion-surprised">놀랐어요</label>
                        </li>
                        <li>
                            <input type="radio" name="emotion" value="angry" id="emotion-angry" required />
                            <label for="emotion-angry">화나요</label>
                        </li>
                        <li>
                            <input type="radio" name="emotion" value="etc" id="emotion-etc" required />
                            <label for="emotion-etc">기타</label>
                        </li>
                    </ul>
                    <label for="title" class="label">제목</label>
                    <input type="text" id="title" placeholder="제목을 입력하세요" required>
                    <label for="content" class="label">내용</label>
                    <textarea id="content" placeholder="내용을 입력하세요" required></textarea>
                </form>
            </div>
            <div class="modal__actions">
                <button type="button" class="ghost" id="cancelWrite">취소</button>
                <button type="submit" class="primary" form="diaryForm">작성 완료</button>
            </div>
        </div>
    </div>

    <div class="modal" id="successModal">
        <div class="modal__backdrop"></div>
        <div class="modal__panel small">
            <header class="modal__header">
                <h3>등록 완료</h3>
                <button class="icon-btn" data-close="success">×</button>
            </header>
            <div class="modal__body">
                <p>등록이 완료되었습니다.</p>
            </div>
            <div class="modal__actions">
                <button class="primary" data-close="success">확인</button>
            </div>
        </div>
    </div>

    <div class="modal" id="cancelModal">
        <div class="modal__backdrop"></div>
        <div class="modal__panel small">
            <header class="modal__header">
                <h3>일기 등록 취소</h3>
                <button class="icon-btn" data-close="keep">×</button>
            </header>
            <div class="modal__body">
                <p>작성 중인 내용을 취소하시겠어요?</p>
            </div>
            <div class="modal__actions">
                <button class="ghost" data-close="keep">계속 작성</button>
                <button class="danger" data-close="cancel-all">등록 취소</button>
            </div>
        </div>
    </div>
    
    <script src="./mindjournal.js"></script>
</body>
</html>